<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="main.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/chroma-js/2.1.0/chroma.min.js"></script>
</head>

<body>
    <div id="simulation">

        <div id="fluidPlotContainer">
            <figure id="fluidPlot">
                <figcaption id="titleCaption">Lattice boltzeman fluid simulation</figcaption>
                <canvas id="simulationCanvas"></canvas>
                <canvas id="colorMapLegend"></canvas>
            </figure>
            <div id="fluidButtons">
                <button id="playpausebtn">
                    <svg id="playIcon" width="20" height="20" viewBox="0 0 5.2916665 5.2916665" version="1.1"
                        id="svg934" inkscape: version="1.1.2 (0a00cf5339, 2022-02-04)" sodipodi: docname="pausebtn.svg"
                        xmlns: inkscape="http://www.inkscape.org/namespaces/inkscape" xmlns:
                        sodipodi="http://sodipodi.sourceforge.net/DTD/sodipodi-0.dtd" xmlns="http://www.w3.org/2000/svg"
                        xmlns: svg="http://www.w3.org/2000/svg">
                        <sodipodi:namedview id="namedview936" pagecolor="#ffffff" bordercolor="#666666"
                            borderopacity="1.0" inkscape:pageshadow="2" inkscape:pageopacity="0.0"
                            inkscape:pagecheckerboard="0" inkscape:document-units="mm" showgrid="false" units="px"
                            inkscape:zoom="29.423234" inkscape:cx="8.0718524" inkscape:cy="11.096673"
                            inkscape:window-width="1920" inkscape:window-height="1016" inkscape:window-x="0"
                            inkscape:window-y="0" inkscape:window-maximized="1" inkscape:current-layer="layer1" />
                        <defs id="defs931">
                            <inkscape:path-effect effect="powerstroke" id="path-effect1550" is_visible="true"
                                lpeversion="1" offset_points="0,4.99214" not_jump="false" sort_points="true"
                                interpolator_type="CubicBezierJohan" interpolator_beta="0.2"
                                start_linecap_type="zerowidth" linejoin_type="extrp_arc" miter_limit="4" scale_width="1"
                                end_linecap_type="zerowidth" />
                            <inkscape:path-effect effect="powerstroke" id="path-effect1546" is_visible="true"
                                lpeversion="1" offset_points="0,4.99214" not_jump="false" sort_points="true"
                                interpolator_type="CubicBezierJohan" interpolator_beta="0.2"
                                start_linecap_type="zerowidth" linejoin_type="extrp_arc" miter_limit="4" scale_width="1"
                                end_linecap_type="zerowidth" />
                            <inkscape:path-effect effect="powerstroke" id="path-effect1509" is_visible="true"
                                lpeversion="1" offset_points="0,4.99214" not_jump="false" sort_points="true"
                                interpolator_type="CubicBezierJohan" interpolator_beta="0.2"
                                start_linecap_type="zerowidth" linejoin_type="extrp_arc" miter_limit="4" scale_width="1"
                                end_linecap_type="zerowidth" />
                            <inkscape:path-effect effect="spiro" id="path-effect1472" is_visible="true"
                                lpeversion="1" />
                        </defs>
                        <g inkscape:label="Layer 1" inkscape:groupmode="layer" id="layer1">
                            <path
                                style="fill:#333333;stroke:none;stroke-width:0.290612px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1"
                                d="M 4.9635744,2.3080673 1.0179946,5.2954266 V 0.01823053 Z" id="path2738"
                                sodipodi:nodetypes="cccc" />
                        </g>
                    </svg>
                    <svg id="pauseIcon" width="20" height="20" viewBox="0 0 5.2916665 5.2916665" version="1.1" id="svg934"
                    inkscape:version="1.1.2 (0a00cf5339, 2022-02-04)" sodipodi:docname="pausebtn.svg"
                    xmlns:inkscape="http://www.inkscape.org/namespaces/inkscape"
                    xmlns:sodipodi="http://sodipodi.sourceforge.net/DTD/sodipodi-0.dtd"
                    xmlns="http://www.w3.org/2000/svg" xmlns:svg="http://www.w3.org/2000/svg">
                    <sodipodi:namedview id="namedview936" pagecolor="#ffffff" bordercolor="#666666" borderopacity="1.0"
                        inkscape:pageshadow="2" inkscape:pageopacity="0.0" inkscape:pagecheckerboard="0"
                        inkscape:document-units="mm" showgrid="false" units="px" inkscape:zoom="28.531759"
                        inkscape:cx="10.006393" inkscape:cy="9.2002741" inkscape:window-width="1920"
                        inkscape:window-height="1016" inkscape:window-x="0" inkscape:window-y="0"
                        inkscape:window-maximized="1" inkscape:current-layer="layer1" />
                    <defs id="defs931" />
                    <g inkscape:label="Layer 1" inkscape:groupmode="layer" id="layer1">
                        <g id="g1308" transform="translate(-0.02321918,-0.00257586)">
                            <rect
                                style="fill:#4b4b4b;stroke:none;stroke-width:0.660467;stroke-linejoin:bevel;paint-order:stroke fill markers"
                                id="rect1043" width="1.2865191" height="5.2948866" x="0.97155529" y="0.00096589467" />
                            <rect
                                style="fill:#4b4b4b;stroke:none;stroke-width:0.660467;stroke-linejoin:bevel;paint-order:stroke fill markers"
                                id="rect1043-6" width="1.2865191" height="5.2948866" x="3.0800307" y="0.00096589467" />
                        </g>
                    </g>
                </svg>

                </button>
                
                <button id="replay">
                    <svg width="20" height="20" viewBox="0 0 5.2916664 5.2916667" version="1.1" id="svg5"
                        sodipodi:docname="replay.svg" inkscape:version="1.1.2 (0a00cf5339, 2022-02-04)"
                        xmlns:inkscape="http://www.inkscape.org/namespaces/inkscape"
                        xmlns:sodipodi="http://sodipodi.sourceforge.net/DTD/sodipodi-0.dtd"
                        xmlns="http://www.w3.org/2000/svg" xmlns:svg="http://www.w3.org/2000/svg">
                        <sodipodi:namedview id="namedview7" pagecolor="#ffffff" bordercolor="#666666"
                            borderopacity="1.0" inkscape:pageshadow="2" inkscape:pageopacity="0.0"
                            inkscape:pagecheckerboard="0" inkscape:document-units="mm" showgrid="false"
                            fit-margin-top="0" fit-margin-left="0" fit-margin-right="0" fit-margin-bottom="0"
                            inkscape:zoom="38.19049" inkscape:cx="7.816082" inkscape:cy="9.9370288"
                            inkscape:window-width="1920" inkscape:window-height="1016" inkscape:window-x="0"
                            inkscape:window-y="0" inkscape:window-maximized="1" inkscape:current-layer="layer1"
                            units="mm" width="20px" />
                        <defs id="defs2">
                            <inkscape:path-effect effect="spiro" id="path-effect943" is_visible="true" lpeversion="1" />
                            <marker style="overflow:visible" id="TriangleOutL" refX="0" refY="0" orient="auto"
                                inkscape:stockid="TriangleOutL" inkscape:isstock="true">
                                <path transform="scale(0.8)"
                                    style="fill:context-stroke;fill-rule:evenodd;stroke:context-stroke;stroke-width:1pt"
                                    d="M 5.77,0 -2.88,5 V -5 Z" id="path3178" />
                            </marker>
                            <inkscape:path-effect effect="spiro" id="path-effect3844" is_visible="true"
                                lpeversion="1" />
                            <marker style="overflow:visible" id="marker3547" refX="0" refY="0" orient="auto"
                                inkscape:stockid="Arrow2Lend" inkscape:isstock="true">
                                <path transform="matrix(-1.1,0,0,-1.1,-1.1,0)"
                                    d="M 8.7185878,4.0337352 -2.2072895,0.01601326 8.7185884,-4.0017078 c -1.7454984,2.3720609 -1.7354408,5.6174519 -6e-7,8.035443 z"
                                    style="fill:context-stroke;fill-rule:evenodd;stroke:context-stroke;stroke-width:0.625;stroke-linejoin:round"
                                    id="path3545" />
                            </marker>
                            <marker style="overflow:visible" id="Tail" refX="0" refY="0" orient="auto"
                                inkscape:stockid="Tail" inkscape:isstock="true">
                                <g transform="scale(-1.2)" id="g3084">
                                    <path
                                        style="fill:none;fill-rule:evenodd;stroke:context-stroke;stroke-width:0.8;stroke-linecap:round"
                                        d="M -3.8048674,-3.9585227 0.54352094,0" id="path3072" />
                                    <path
                                        style="fill:none;fill-rule:evenodd;stroke:context-stroke;stroke-width:0.8;stroke-linecap:round"
                                        d="M -1.2866832,-3.9585227 3.0617053,0" id="path3074" />
                                    <path
                                        style="fill:none;fill-rule:evenodd;stroke:context-stroke;stroke-width:0.8;stroke-linecap:round"
                                        d="M 1.3053582,-3.9585227 5.6537466,0" id="path3076" />
                                    <path
                                        style="fill:none;fill-rule:evenodd;stroke:context-stroke;stroke-width:0.8;stroke-linecap:round"
                                        d="M -3.8048674,4.1775838 0.54352094,0.21974226" id="path3078" />
                                    <path
                                        style="fill:none;fill-rule:evenodd;stroke:context-stroke;stroke-width:0.8;stroke-linecap:round"
                                        d="M -1.2866832,4.1775838 3.0617053,0.21974226" id="path3080" />
                                    <path
                                        style="fill:none;fill-rule:evenodd;stroke:context-stroke;stroke-width:0.8;stroke-linecap:round"
                                        d="M 1.3053582,4.1775838 5.6537466,0.21974226" id="path3082" />
                                </g>
                            </marker>
                            <marker style="overflow:visible" id="Arrow1Lend" refX="0" refY="0" orient="auto"
                                inkscape:stockid="Arrow1Lend" inkscape:isstock="true">
                                <path transform="matrix(-0.8,0,0,-0.8,-10,0)"
                                    style="fill:context-stroke;fill-rule:evenodd;stroke:context-stroke;stroke-width:1pt"
                                    d="M 0,0 5,-5 -12.5,0 5,5 Z" id="path3039" />
                            </marker>
                            <marker style="overflow:visible" id="marker3497" refX="0" refY="0" orient="auto"
                                inkscape:stockid="Arrow1Lstart" inkscape:isstock="true">
                                <path transform="matrix(0.8,0,0,0.8,10,0)"
                                    style="fill:context-stroke;fill-rule:evenodd;stroke:context-stroke;stroke-width:1pt"
                                    d="M 0,0 5,-5 -12.5,0 5,5 Z" id="path3495" />
                            </marker>
                            <marker style="overflow:visible" id="Arrow2Lend" refX="0" refY="0" orient="auto"
                                inkscape:stockid="Arrow2Lend" inkscape:isstock="true">
                                <path transform="matrix(-1.1,0,0,-1.1,-1.1,0)"
                                    d="M 8.7185878,4.0337352 -2.2072895,0.01601326 8.7185884,-4.0017078 c -1.7454984,2.3720609 -1.7354408,5.6174519 -6e-7,8.035443 z"
                                    style="fill:context-stroke;fill-rule:evenodd;stroke:context-stroke;stroke-width:0.625;stroke-linejoin:round"
                                    id="path3057" />
                            </marker>
                            <marker style="overflow:visible" id="Arrow1Lstart" refX="0" refY="0" orient="auto"
                                inkscape:stockid="Arrow1Lstart" inkscape:isstock="true">
                                <path transform="matrix(0.8,0,0,0.8,10,0)"
                                    style="fill:context-stroke;fill-rule:evenodd;stroke:context-stroke;stroke-width:1pt"
                                    d="M 0,0 5,-5 -12.5,0 5,5 Z" id="path3036" />
                            </marker>
                            <inkscape:path-effect effect="spiro" id="path-effect3306" is_visible="true"
                                lpeversion="1" />
                        </defs>
                        <g inkscape:label="Layer 1" inkscape:groupmode="layer" id="layer1"
                            transform="translate(-105.55048,-98.31888)">
                            <path
                                style="fill:#1a1a1a;stroke:none;stroke-width:0.266934px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1"
                                d="m 109.25449,102.32733 c -0.17322,0.26229 -0.43215,0.46696 -0.72736,0.57493 -0.2952,0.10796 -0.62509,0.11863 -0.92665,0.03 -0.30574,-0.0899 -0.58065,-0.28146 -0.77083,-0.53716 -0.19019,-0.25571 -0.29458,-0.57411 -0.29271,-0.89278 0.002,-0.31868 0.10999,-0.63582 0.30316,-0.88928 0.19317,-0.25346 0.47031,-0.4418 0.77708,-0.52809 l 0.0453,1.73357 2.8528,-1.979715 -2.96653,-1.504675 0.0435,1.303638 c -0.39237,0.07133 -0.7617,0.264529 -1.04405,0.546162 -0.39564,0.39463 -0.61164,0.96281 -0.57808,1.52061 0.0336,0.5578 0.31612,1.09598 0.75622,1.44033 0.4401,0.34436 1.03044,0.48918 1.57994,0.38758 0.54949,-0.10159 1.04904,-0.44791 1.33692,-0.92686 l -0.38861,-0.27823 z"
                                id="path941" inkscape:path-effect="#path-effect943"
                                inkscape:original-d="m 109.25449,102.32733 c 0,0 -1.10242,0.40355 -1.65401,0.6049 -0.55162,0.20138 0.0167,-2.84731 0.0167,-2.84731 0,0 0.0453,1.73357 0.0453,1.73357 0,0 2.8528,-1.979715 2.8528,-1.979715 0,0 -2.96653,-1.504675 -2.96653,-1.504675 0,0 0.0435,1.303638 0.0435,1.303638 0,0 -0.69577,0.364372 -1.04405,0.546162 -0.34829,0.18178 3.095,2.42166 3.095,2.42166 0,0 -0.38861,-0.27823 -0.38861,-0.27823 z" />
                        </g>
                    </svg>
                </button>
            </div>
            <fieldset id="xPosContainer">
                <input type="range" min="0" max="100" step="1" value="0" id="xPos">
            </fieldset>
        </div>


        <div id="profilePlotContainer">
            <div class='charts'>
                <figure class="plot">
                    <figcaption id="profilePlotCaption" class="figureCaption"></figcaption>
                    <canvas id="profilePlot"></canvas>
                    <p id="yLabel">Position (y/L)</p>
                    <p id="xLabel"></p>
                </figure>

                <figure class="plot">
                    <figcaption id="histogramCaption" class="figureCaption"></figcaption>
                    <canvas id="histogramPlot"></canvas>
                    <p id="yHistogramLabel">count</p>
                    <p id="xHistogramLabel">velocity</p>
                </figure>
            </div>
            <fieldset id="profilePlotForm">
                <legend id="plotSelectionLegend">Plot:</legend>
                <form id="plotSelectionForm">
                    <input type="radio" id="plotVorticity" name="plotOption" value="Vorticity" checked>
                    <label class="macroLabel" for="plotVorticity">ω</label>
                    <input type="radio" id="plotDensity" name="plotOption" value="Density">
                    <label class="macroLabel" for="plotDensity">ρ</label>
                    <input type="radio" id="plotUx" name="plotOption" value="Ux">
                    <label class="macroLabel" for="plotUx">V<sub>x</sub></label>
                    <input type="radio" id="plotUy" name="plotOption" value="Uy">
                    <label class="macroLabel" for="plotUy">V<sub>y</sub></label>
                </form>

                <label for="reynoldsInput" id='reLabel'><span id="reynoldsDisplay"> </span>
                    <input type="range" min="10" max="100" step="0.5" value="70" id="reynoldsInput">
                </label>

                <label for="trackHistory" class="label">track history:
                    <input type="checkbox" id="trackHistory">
                </label>

                <label for="psychedelicMode" class="label">psychedelic mode:
                    <input type="checkbox" id="psychedelicMode">
                </label>
            </fieldset>


        </div>



    </div>


</body>
<script src="index.js"></script>

</html>